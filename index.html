<div> The localStorage limit is <span id="size">???</span> KBs. </div> 

<button onclick="openAppStore()">Open apple app store</button>

<button onclick="openTestFunction()">Test link</button>

<script>
function gen(n) {
        return new Array((n * 1024) + 1).join('a')
    }
     
    //window.localStorage.clear();
     
    // Determine size of localStorage if it's not set
    if (!localStorage.getItem('size')) {
        var i = 0;
        try {
            // Test up to 10 MB
            for (i = 0; i <= 10000; i += 250) {
                localStorage.setItem('test', gen(i));
            }
        } catch (e) {
            localStorage.removeItem('test');
            localStorage.setItem('size', i ? i - 1 : 0);
            
        }
    }
    
    
    var el = document.getElementById('size');        
    el.innerHTML = localStorage.getItem('size');

function openTestFunction(){
  window.location = "clericZoll://";
  
  setTimeout(function() {
    if(document.visibilityState === 'visible') {
        alert('This is not iOS');
    }
    else {
        console.log('This is iOS');
    }
  }, 25);
  
}

window.addEventListener("blur",function(){focuschange('notInFocus')});
window.addEventListener("focus",function(){focuschange('inFocus')});

function focuschange(val) {
    if(val === 'notInFocus'){
        alert('Not in focus');
    }
     else {
        alert('In focus');
     }
}
        
        
</script>
